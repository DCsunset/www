"use strict";$(document).ready(function(){var t=!1,a=$(".type").map(function(){return $(this).find(".headimg").length}),e=0,n=null,r=-1,l=-1,s=function(){e=parseInt($(".mytr").width()/$(".headimg").width());var t=$(".mytr").width()%$(".headimg").width();$(".data-wrap").css("transform","translateX("+t/2+"px)"),$("#tag").css("transform","translateX(-"+t/2+"px)")},i=function(){if($(".headimg").css("transform",""),$(".type").css("transform",""),r>=0&&l>=0){var t=(r-r%e)/e,n=$($(".type")[l]),s=e*(1+t)-1;s>a[l]-1&&(s=a[l]-1);var i=$(n.find(".headimg")[s]);i.after($("#tag").detach())}else $(".data-wrap").after($("#tag").detach())};s(),$(window).on("resize",function(){s(),i()});var d=function(t){null!==n?($($($(".type")[l]).find(".headimg")[r]).removeClass("selected"),$("#tag").addClass("closed"),$("#tag").one("transitionend",t)):t()},o=function(a){if(null!==a){n=$(a).data("people").name;var e=$(a),s=e.data("people");e.addClass("selected"),$("#tag-name").html(s.name),$("#tag-img").prop("src",s.url),$("#tag-link").prop("href",s.page),r=e.prevAll().length,l=e.parent().parent().prevAll().length,i(),$("#tag").offset(),$("#tag").removeClass("closed")}else n=null,r=-1,l=-1,i();t=!1};$(".headimg").on("click",function(a){t||(t=!0,d(null===n||n!==$(a.currentTarget).data("people").name?o.bind(this,a.currentTarget):o.bind(this,null)))})});