"use strict";$(document).ready(function(){var t=$(".type").map(function(){return $(this).find(".headimg").length}),a=0,e=null,n=-1,r=-1,l=function(){a=parseInt($(".mytr").width()/$(".headimg").width());var t=$(".mytr").width()%$(".headimg").width();$(".data-wrap").css("transform","translateX("+t/2+"px)"),$("#tag").css("transform","translateX(-"+t/2+"px)")},s=function(){if($(".headimg").css("transform",""),$(".type").css("transform",""),n>=0&&r>=0){var e=(n-n%a)/a,l=$($(".type")[r]),s=a*(1+e)-1;s>t[r]-1&&(s=t[r]-1);var i=$(l.find(".headimg")[s]);i.after($("#tag").detach())}else $(".data-wrap").after($("#tag").detach())};l(),$(window).on("resize",function(){l(),s()});var i=function(t){null!==e?($($($(".type")[r]).find(".headimg")[n]).removeClass("selected"),$("#tag").addClass("closed"),$("#tag").one("transitionend",t)):t()},d=function(t){if(null!==t){e=$(t).data("people").name;var a=$(t),l=a.data("people");a.addClass("selected"),$("#tag-name").html(l.name),$("#tag-img").prop("src",l.url),$("#tag-link").prop("href",l.page),n=a.prevAll().length,r=a.parent().parent().prevAll().length,s(),$("#tag").offset(),$("#tag").removeClass("closed")}else e=null,n=-1,r=-1,s()};$(".headimg").on("click",function(t){i(null===e||e!==$(t.currentTarget).data("people").name?d.bind(this,t.currentTarget):d.bind(this,null))})});